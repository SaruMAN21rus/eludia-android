<div data-role="view" data-layout="main" data-model="APP.models.clients_report_pie" data-zoom="true" data-before-show="show_clients_report_pie_сhart">
    <h1 data-bind="html: title"></h1>
	<div id='clients_report_pie_chart'></div>
    <div data-role="footer">
        <div data-role="tabstrip">
            <a href="view/clients_report_pie_chart.html" data-icon="settings">График</a>
            <a href="view/clients_report_pie_data.html" data-icon="home">Данные</a>
        </div>
    </div>
</div>

<script>
     function show_clients_report_pie_сhart (e) {
          var data = e.view.model.ds;
          var сhartOptions = {
            tooltip:{
                visible:1,
                format:"{0:N2}",
                template:"#= category #: #= value #"
            },
            chartArea:{heigth:600},
            seriesDefaults:{
                type:"pie",
                stack:true,
                labels:{
                    visible:1,
                    format:"{0:N2}",
                    background:"transparent",
					rotation: -45   
                }
            },
            valueAxis:{
                title:{
                    text:"USD"
                },
                labels:{
                    format:"{0:N2}",
	                template:"#= category #: #= value #"
                }
            },
            legend:{
                position:"bottom"
            },
            categoryAxis:{
                field:"label"
            },
            series:[
              {
                  name:"2013 год",
                  categoryField: "label",
                  field:"value_2013",
              }
           ],
           dataSource: data
          };          	
          $("#clients_report_pie_chart").kendoChart(сhartOptions);
      };
</script>